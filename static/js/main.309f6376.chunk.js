(this["webpackJsonpgoit-react-hw-05-movies"]=this["webpackJsonpgoit-react-hw-05-movies"]||[]).push([[0],{10:function(t,e,n){t.exports={Navigation:"Navigation_Navigation__1Uy10",link:"Navigation_link__26jPj",activeLink:"Navigation_activeLink__25pyK Navigation_link__26jPj",header:"Navigation_header__3LLxI"}},21:function(t,e,n){"use strict";var c=n(44),a=n.n(c),i=n(45),o=n.n(i),r=n(1);e.a=function(){return Object(r.jsx)("div",{className:o.a.loaderBox,children:Object(r.jsx)(a.a,{type:"ThreeDots",color:"pink",height:100,width:100,timeout:1e4})})}},29:function(t,e,n){},30:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return s}));var c=n(12),a=n.n(c),i="https://api.themoviedb.org/3/",o="367b0facb69c6afab44aa6f928a1cec5",r=function(t){return a.a.get("".concat(i,"trending/movie/day?api_key=").concat(o,"&page=").concat(t))},s=function(t,e){return a.a.get("".concat(i,"search/movie?api_key=").concat(o,"&page=").concat(e,"&query=").concat(t,"&include_adult=false"))}},45:function(t,e,n){t.exports={Loader:"Loader_Loader__2TTY9"}},46:function(t,e,n){t.exports={overlay:"Modal_overlay__3mpnX",modal:"Modal_modal__3Qzz7"}},47:function(t,e){},93:function(t,e,n){"use strict";n.r(e);var c,a,i,o,r=n(0),s=n.n(r),l=n(28),j=n.n(l),d=(n(29),n(3)),u=n(11),b=n(10),h=n.n(b),m=n(1),f=function(){return Object(m.jsx)("header",{className:h.a.header,children:Object(m.jsxs)("nav",{className:h.a.Navigation,children:[Object(m.jsx)(u.c,{exact:!0,to:"/home",className:h.a.link,activeClassName:h.a.activeLink,children:"Home"}),Object(m.jsx)(u.c,{to:"/movies",className:h.a.link,activeClassName:h.a.activeLink,children:"Movies"})]})})},x=n(25),O=n(16),g=n(30),v=function(t){return t.map((function(t){return{img:t.backdrop_path,title:t.title,text:t.overview,id:t.id}}))},p=n(17),_=n(18),k=_.a.ul(c||(c=Object(p.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  width: 1170px;\n  margin: 0 auto;\n  list-style: none;\n  padding: 0;\n  margin: 0;\n"]))),w=_.a.h2(a||(a=Object(p.a)(["\n  color: green;\n"]))),y=_.a.li(i||(i=Object(p.a)(["\n  width: 370px;\n  height: 300px;\n  &:not(:nth-child(3n + 3)) {\n    margin-right: 30px;\n  }\n  &:last-child {\n    margin-right: 0px;\n  }\n  &:hover "," {\n    color: red;\n  }\n"])),w),N=_.a.img(o||(o=Object(p.a)(["\n  max-width: 100%;\n"]))),L=function(t){var e=t.films,n=t.onClickImg;return 0===e.length?null:Object(m.jsx)(k,{children:e.map((function(t){var e=t.id,c=t.img,a=t.title;t.text;return Object(m.jsxs)(y,{children:[Object(m.jsx)(w,{children:a}),Object(m.jsx)(N,{src:"https://image.tmdb.org/t/p/w400/".concat(c),alt:a,onClick:function(){return n(c)}})]},e)}))})},C=function(t){var e=t.onClick;return Object(m.jsx)("button",{type:"button",onClick:e,children:"Load More"})},I=n(21),M=n(46),E=n.n(M).a.overlay;var S=function(t){var e=t.closeModal,n=t.modalImg;Object(r.useEffect)((function(){return window.addEventListener("keydown",c),function(){window.removeEventListener("keydown",c)}}));var c=function(t){"Escape"===t.code&&e()};return Object(m.jsx)("div",{onClick:function(t){t.currentTarget===t.target&&e()},className:E,children:Object(m.jsx)("img",{src:"https://image.tmdb.org/t/p/w780".concat(n),alt:""})})};var T=function(){var t=Object(r.useState)(1),e=Object(O.a)(t,2),n=e[0],c=e[1],a=Object(r.useState)([]),i=Object(O.a)(a,2),o=i[0],s=i[1],l=Object(r.useState)(!1),j=Object(O.a)(l,2),d=j[0],u=j[1],b=Object(r.useState)(""),h=Object(O.a)(b,2),f=h[0],p=h[1];return Object(r.useEffect)((function(){u(!0),g.b(n).then((function(t){var e=t.data;s((function(t){return[].concat(Object(x.a)(t),Object(x.a)(v(e.results)))}))})).catch((function(){console.log("Wops, something went wrong. Please try again later")})).finally((function(){u(!1),n>1&&window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})}))}),[n]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("section",{children:[Object(m.jsx)(L,{films:o,onClickImg:function(t){p(t)}}),d&&Object(m.jsx)(I.a,{}),f&&Object(m.jsx)(S,{closeModal:function(){p("")},modalImg:f})]}),Object(m.jsx)(C,{onClick:function(){c((function(t){return t+1}))}})]})},P=n(47),z=n.n(P),B=Object(r.lazy)((function(){return Promise.all([n.e(3),n.e(4)]).then(n.bind(null,101))}));var F=function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(f,{}),Object(m.jsx)(r.Suspense,{fallback:Object(m.jsx)(I.a,{}),children:Object(m.jsxs)(d.d,{children:[Object(m.jsx)(d.b,{path:"/home",exact:!0,children:Object(m.jsx)(T,{})}),Object(m.jsx)(d.b,{path:"/films/:filmId",children:Object(m.jsx)(z.a,{})}),Object(m.jsx)(d.b,{path:"/films",exact:!0,children:Object(m.jsx)(B,{})}),Object(m.jsx)(d.b,{path:"/films/:filmId",children:Object(m.jsx)(T,{})}),Object(m.jsx)(d.a,{from:"/",to:"/films"})]})})]})};j.a.render(Object(m.jsx)(s.a.StrictMode,{children:Object(m.jsx)(u.a,{children:Object(m.jsx)(F,{})})}),document.getElementById("root"))}},[[93,1,2]]]);
//# sourceMappingURL=main.309f6376.chunk.js.map