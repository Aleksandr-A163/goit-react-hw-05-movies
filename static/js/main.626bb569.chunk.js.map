{"version":3,"sources":["components/modal/Modal.module.css","helpers/Mapper.js","components/filmGallery/Gallery.styled.js","components/filmGallery/FilmGallery.js","components/button/Button.js","components/loader/Loader.js","components/modal/Modal.js","views/FilmsView.js","Service/Service-api.js","App.js","index.js"],"names":["module","exports","mapper","films","map","img","backdrop_path","title","text","overview","id","FilmList","styled","ul","Title","h2","FilmListItem","li","Image","FilmGallery","onClickImg","length","src","alt","onClick","Button","type","Loader","color","height","width","timeout","overlay","styles","Modal","closeModal","modalImg","useEffect","window","addEventListener","handleKeydown","removeEventListener","e","code","currentTarget","target","className","FilmsView","useState","page","setPage","film","setFilm","isLoading","setIsLoading","setImg","axios","get","api","then","data","prevFilm","results","catch","console","log","finally","scrollTo","top","document","body","scrollHeight","behavior","modalImage","prevPage","App","path","exact","from","to","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.626bb569.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__3zhXA\",\"modal\":\"Modal_modal__AwseB\"};","const mapper = (films) => {\n  return films.map(({ backdrop_path: img, title, overview: text, id }) => ({\n    img,\n    title,\n    text,\n    id,\n  }));\n};\n\nexport default mapper;\n","import styled from \"styled-components\";\n\nconst FilmList = styled.ul`\n  display: flex;\n  flex-wrap: wrap;\n  width: 1170px;\n  margin: 0 auto;\n  list-style: none;\n  padding: 0;\n  margin: 0;\n`;\n\nconst Title = styled.h2`\n  color: green;\n`;\n\nconst FilmListItem = styled.li`\n  width: 370px;\n  height: 300px;\n  &:not(:nth-child(3n + 3)) {\n    margin-right: 30px;\n  }\n  &:last-child {\n    margin-right: 0px;\n  }\n  &:hover ${Title} {\n    color: red;\n  }\n`;\n\nconst Image = styled.img`\n  max-width: 100%;\n`;\n\nexport { FilmList, FilmListItem, Image, Title };\n","import PropTypes from \"prop-types\";\nimport { FilmList, FilmListItem, Image, Title } from \"./Gallery.styled\";\n\nconst FilmGallery = ({ films, onClickImg }) => {\n  if (films.length === 0) return null;\n  return (\n    <FilmList>\n      {films.map(({ id, img, title, text }) => (\n        <FilmListItem key={id}>\n          <Title>{title}</Title>\n          <Image\n            src={`https://image.tmdb.org/t/p/w400/${img}`}\n            alt={title}\n            onClick={() => onClickImg(img)}\n          />\n          {/* <p>{text}</p> */}\n        </FilmListItem>\n      ))}\n    </FilmList>\n  );\n};\n\nFilmGallery.propTypes = {\n  films: PropTypes.array.isRequired,\n};\n\nexport default FilmGallery;\n","import PropTypes from \"prop-types\";\n\nconst Button = ({ onClick }) => {\n  return (\n    <button type=\"button\" onClick={onClick}>\n      Load More\n    </button>\n  );\n};\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n}\n\nexport default Button;\n","import LoaderSpinner from \"react-loader-spinner\";\n\nconst Loader = () => (\n  <div>\n    <LoaderSpinner\n      type=\"ThreeDots\"\n      color=\"pink\"\n      height={100}\n      width={100}\n      timeout={10000}\n    />\n  </div>\n);\n\nexport default Loader;\n","import { useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport styles from \"./Modal.module.css\";\nconst { overlay } = styles;\n\nfunction Modal({ closeModal, modalImg }) {\n  useEffect(() => {\n    window.addEventListener(\"keydown\", handleKeydown);\n    return () => {\n      window.removeEventListener(\"keydown\", handleKeydown);\n    };\n  });\n\n  const handleKeydown = (e) => {\n    if (e.code === \"Escape\") {\n      closeModal();\n    }\n  };\n\n  const handleBackdropClick = (e) => {\n    if (e.currentTarget === e.target) {\n      closeModal();\n    }\n  };\n\n  return (\n    <div onClick={handleBackdropClick} className={overlay}>\n      <img src={`https://image.tmdb.org/t/p/w780${modalImg}`} alt=\"\" />\n    </div>\n  );\n}\n\nModal.propTypes = {\n  closeModal: PropTypes.func.isRequired,\n  modalImg: PropTypes.string.isRequired,\n};\n\nexport default Modal;\n","\nimport { useState, useEffect } from \"react\";\n\nimport * as api from \"../Service/Service-api\";\nimport mapper from \"../helpers/Mapper\";\nimport FilmGallery from \"../components/filmGallery/FilmGallery\";\nimport Button from \"../components/button/Button\";\nimport Loader from \"../components/loader/Loader\";\nimport Modal from \"../components/modal/Modal\";\n\nfunction FilmsView() {\n  const [page, setPage] = useState(1);\n  const [film, setFilm] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [img, setImg] = useState(\"\");\n\n  useEffect(() => {\n    setIsLoading(true);\n    api\n      .getImages(page)\n      .then(({ data }) => {\n        setFilm((prevFilm) => [...prevFilm, ...mapper(data.results)]);\n      })\n      .catch(() => {\n        console.log(\"Wops, something went wrong. Please try again later\");\n      })\n      .finally(() => {\n        setIsLoading(false);\n        if (page > 1) {\n          window.scrollTo({\n            top: document.body.scrollHeight,\n            behavior: \"smooth\",\n          });\n        }\n      });\n  }, [page]);\n\n  const onLoadMore = () => {\n    setPage((prevPage) => prevPage + 1);\n  };\n\n  const openModal = (modalImage) => {\n    setImg(modalImage);\n  };\n\n  const closeModal = () => {\n    setImg(\"\");\n  };\n  return (\n    <div>\n      <FilmGallery films={film} onClickImg={openModal}></FilmGallery>\n      <Button onClick={onLoadMore} />\n      {isLoading && <Loader />}\n      {img && <Modal closeModal={closeModal} modalImg={img} />}\n    </div>\n  );\n}\n\nexport default FilmsView;\n","import axios from \"axios\";\n\nconst BASE_URL = \"https://api.themoviedb.org/3/trending/movie/day\";\nconst API_KEY = \"a92e1c28ff5839246667e5b68c28f141\";\n\nexport const getImages = (page) =>\n  axios.get(`${BASE_URL}?api_key=${API_KEY}&page=${page}`);\n","import { Route, Switch, Redirect } from \"react-router-dom\";\nimport FilmsView from \"./views/FilmsView\";\nimport FilmDetails from \"./views/FilmDetails\";\n\nfunction App() {\n  return (\n    <>\n      <Switch>\n        <Route path=\"/films\" exact>\n          <FilmsView />\n        </Route>\n        <Route path=\"/films/:filmId\">\n          <FilmDetails />\n        </Route>\n        <Redirect from=\"/\" to=\"/films\" />\n      </Switch>\n    </>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}