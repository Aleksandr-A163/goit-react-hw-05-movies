{"version":3,"sources":["components/Navigation/Navigation.module.css","components/Loader/Loader.js","Service/Service-api.js","components/Loader/Loader.module.css","components/Modal/Modal.module.css","components/Navigation/Navigation.js","helpers/Mapper.js","components/HomeGallery/Gallery.styled.js","components/HomeGallery/HomeGallery.js","components/Button/Button.js","components/Modal/Modal.js","views/FilmsView.js","App.js","index.js"],"names":["module","exports","Loader","className","s","loaderBox","type","color","height","width","timeout","BASE_URL","API_KEY","getTrendingMovies","page","axios","get","getMovie","searchQuery","Navigation","header","exact","to","link","activeClassName","activeLink","mapper","films","map","img","backdrop_path","title","text","overview","id","FilmList","styled","ul","Title","h2","FilmListItem","li","Image","HomeGallery","onClickImg","length","src","alt","onClick","Button","overlay","styles","Modal","closeModal","modalImg","useEffect","window","addEventListener","handleKeydown","removeEventListener","e","code","currentTarget","target","FilmsView","useState","setPage","film","setFilm","isLoading","setIsLoading","setImg","api","then","data","prevFilm","results","catch","console","log","finally","scrollTo","top","document","body","scrollHeight","behavior","modalImage","prevPage","SearchFilms","lazy","App","fallback","path","from","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.309f6376.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Navigation\":\"Navigation_Navigation__1Uy10\",\"link\":\"Navigation_link__26jPj\",\"activeLink\":\"Navigation_activeLink__25pyK Navigation_link__26jPj\",\"header\":\"Navigation_header__3LLxI\"};","import LoaderSpinner from \"react-loader-spinner\";\nimport s from './Loader.module.css';\n\nconst Loader = () => (\n  <div className={s.loaderBox}>\n    <LoaderSpinner\n      type=\"ThreeDots\"\n      color=\"pink\"\n      height={100}\n      width={100}\n      timeout={10000}\n    />\n  </div>\n);\n\nexport default Loader;\n","import axios from \"axios\";\n\nconst BASE_URL = \"https://api.themoviedb.org/3/\";\nconst API_KEY = \"367b0facb69c6afab44aa6f928a1cec5\";\n\nexport const getTrendingMovies = (page) =>\n  axios.get(`${BASE_URL}trending/movie/day?api_key=${API_KEY}&page=${page}`);\n\nexport const getMovie = (searchQuery, page) =>\n  axios.get(`${BASE_URL}search/movie?api_key=${API_KEY}&page=${page}&query=${searchQuery}&include_adult=false`);\n\nexport const getSingleFilm = (filmId) =>\n  axios.get(`${BASE_URL}movie/${filmId}?api_key=${API_KEY}`);\n\nexport const getCast = (filmId) =>\n  axios.get(`${BASE_URL}movie/${filmId}/credits?api_key=${API_KEY}`);\n\nexport const getReviews = (filmId) =>\n  axios.get(`${BASE_URL}movie/${filmId}/reviews?api_key=${API_KEY}&page=1`);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__2TTY9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__3mpnX\",\"modal\":\"Modal_modal__3Qzz7\"};","import { NavLink } from 'react-router-dom';\r\nimport s from './Navigation.module.css';\r\n\r\nconst Navigation = () => {\r\n    return (\r\n    <header className={s.header}>\r\n        <nav className={s.Navigation}>\r\n            <NavLink\r\n                exact\r\n                to='/home'\r\n                className={s.link}\r\n                activeClassName={s.activeLink}\r\n            >\r\n                Home\r\n            </NavLink>\r\n            <NavLink\r\n                to='/movies'\r\n                className={s.link}\r\n                activeClassName={s.activeLink}               \r\n            >\r\n                Movies\r\n            </NavLink>\r\n        </nav>\r\n    </header>\r\n\r\n    )\r\n};\r\n\r\nexport default Navigation;","const mapper = (films) => {\n  return films.map(({ backdrop_path: img, title, overview: text, id }) => ({\n    img,\n    title,\n    text,\n    id,\n  }));\n};\n\nexport default mapper;\n","import styled from \"styled-components\";\n\nconst FilmList = styled.ul`\n  display: flex;\n  flex-wrap: wrap;\n  width: 1170px;\n  margin: 0 auto;\n  list-style: none;\n  padding: 0;\n  margin: 0;\n`;\n\nconst Title = styled.h2`\n  color: green;\n`;\n\nconst FilmListItem = styled.li`\n  width: 370px;\n  height: 300px;\n  &:not(:nth-child(3n + 3)) {\n    margin-right: 30px;\n  }\n  &:last-child {\n    margin-right: 0px;\n  }\n  &:hover ${Title} {\n    color: red;\n  }\n`;\n\nconst Image = styled.img`\n  max-width: 100%;\n`;\n\n\n\nexport { FilmList, FilmListItem, Image, Title };\n","import PropTypes from \"prop-types\";\nimport {  FilmList, FilmListItem, Image, Title } from \"./Gallery.styled\";\n\nconst HomeGallery = ({ films, onClickImg }) => {\n  if (films.length === 0) return null;\n  return (\n\n    <FilmList>\n      {films.map(({ id, img, title, text }) => (\n        <FilmListItem key={id}>\n          <Title>{title}</Title>\n          <Image\n            src={`https://image.tmdb.org/t/p/w400/${img}`}\n            alt={title}\n            onClick={() => onClickImg(img)}\n          />\n          {/* <p>{text}</p> */}\n        </FilmListItem>\n      ))}\n    </FilmList>\n\n\n  );\n};\n\nHomeGallery.propTypes = {\n  films: PropTypes.array.isRequired,\n};\n\nexport default HomeGallery;\n","import PropTypes from \"prop-types\";\n\nconst Button = ({ onClick }) => {\n  return (\n    <button type=\"button\" onClick={onClick}>\n      Load More\n    </button>\n  );\n};\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n}\n\nexport default Button;\n","import { useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport styles from \"./Modal.module.css\";\nconst { overlay } = styles;\n\nfunction Modal({ closeModal, modalImg }) {\n  useEffect(() => {\n    window.addEventListener(\"keydown\", handleKeydown);\n    return () => {\n      window.removeEventListener(\"keydown\", handleKeydown);\n    };\n  });\n\n  const handleKeydown = (e) => {\n    if (e.code === \"Escape\") {\n      closeModal();\n    }\n  };\n\n  const handleBackdropClick = (e) => {\n    if (e.currentTarget === e.target) {\n      closeModal();\n    }\n  };\n\n  return (\n    <div onClick={handleBackdropClick} className={overlay}>\n      <img src={`https://image.tmdb.org/t/p/w780${modalImg}`} alt=\"\" />\n    </div>\n  );\n}\n\nModal.propTypes = {\n  closeModal: PropTypes.func.isRequired,\n  modalImg: PropTypes.string.isRequired,\n};\n\nexport default Modal;\n","\nimport { useState, useEffect } from \"react\";\n\nimport * as api from \"../Service/Service-api\";\nimport mapper from \"../helpers/Mapper\";\nimport HomeGallery from \"../components/HomeGallery/HomeGallery\";\nimport Button from \"../components/Button/Button\";\nimport Loader from \"../components/Loader/Loader\";\nimport Modal from \"../components/Modal/Modal\";\nimport \"../index.css\"\n\nfunction FilmsView() {\n  const [page, setPage] = useState(1);\n  const [film, setFilm] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [img, setImg] = useState(\"\");\n\n  useEffect(() => {\n    setIsLoading(true);\n    api\n      .getTrendingMovies(page)\n      .then(({ data }) => {\n        setFilm((prevFilm) => [...prevFilm, ...mapper(data.results)]);\n      })\n      .catch(() => {\n        console.log(\"Wops, something went wrong. Please try again later\");\n      })\n      .finally(() => {\n        setIsLoading(false);\n        if (page > 1) {\n          window.scrollTo({\n            top: document.body.scrollHeight,\n            behavior: \"smooth\",\n          });\n        }\n      });\n  }, [page]);\n\n  const onLoadMore = () => {\n    setPage((prevPage) => prevPage + 1);\n  };\n\n  const openModal = (modalImage) => {\n    setImg(modalImage);\n  };\n\n  const closeModal = () => {\n    setImg(\"\");\n  };\n  return (\n    <>\n      <section>\n        <HomeGallery films={film} onClickImg={openModal}></HomeGallery>\n      \n        {isLoading && <Loader />}\n        {img && <Modal closeModal={closeModal} modalImg={img} />}\n      </section>\n        <Button onClick={onLoadMore} />\n    </>\n  );\n}\n\nexport default FilmsView;\n","import { lazy, Suspense } from 'react'\nimport { Route, Switch, Redirect } from \"react-router-dom\";\nimport Navigation from './components/Navigation/Navigation'\nimport FilmsView from \"./views/FilmsView\";\nimport FilmDetails from \"./views/FilmDetails\";\nimport Loader from './components/Loader/Loader';\n\nconst SearchFilms = lazy(() => import('./views/SearchMovie'));\n\nfunction App() {\n  return (\n    <>\n      <Navigation />\n      <Suspense fallback={<Loader />}>\n      <Switch >\n          <Route path=\"/home\" exact>\n            <FilmsView />\n          </Route>\n          <Route path=\"/films/:filmId\">\n            <FilmDetails />\n          </Route>\n          <Route path=\"/films\" exact>\n            <SearchFilms/>\n          </Route>\n          <Route path=\"/films/:filmId\">\n            <FilmsView/>\n          </Route>\n        <Redirect from=\"/\" to=\"/films\" />\n      </Switch>\n      </Suspense>\n  </>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}