{"version":3,"sources":["components/Cast/Cast.module.css","components/Reviews/Reviews.module.css","images/no-avatar.jpg","components/Cast/Cast.js","components/Reviews/Reviews.js","components/SingleMovie/SingleMovie.js","views/FilmDetails.js","Service/Service-api.js","components/SingleMovie/SingleMovie.module.css"],"names":["module","exports","Cast","movieId","useParams","useState","cast","setCast","status","setStatus","useEffect","a","api","newRequest","data","length","console","log","fetchData","Loader","className","s","castGallery","map","item","profile_path","id","name","castGalleryItem","src","alt","CastGalleryItemImage","NoImage154","CastTitle","Reviews","reviews","setReviews","results","ReviewsList","author","content","created_at","ReviewsListItem","ReviewsAuthorTitle","ReviewsAuthor","ReviewsCreated","slice","ReviewsContent","SingleMovie","history","useHistory","location","useLocation","url","useRouteMatch","film","setFilm","type","onClick","push","state","from","GoBackBtn","SingleFilm","imageFrame","poster_path","title","imgFilm","filmData","filmTitle","filmText","filmTextValue","release_date","overview","genres","items","join","toLowerCase","vote_average","Links","to","pathname","FilmLink","path","FilmView","BASE_URL","API_KEY","getTrendingMovies","page","axios","get","getMovie","searchQuery","getSingleFilm","filmId","getCast","getReviews"],"mappings":"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","file":"static/js/4.bc2711df.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"castGallery\":\"Cast_castGallery__3wjay\",\"castGalleryItem\":\"Cast_castGalleryItem__279Aw\",\"CastGalleryItemImage\":\"Cast_CastGalleryItemImage__3hR84\",\"CastTitle\":\"Cast_CastTitle__2YNvC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ReviewsList\":\"Reviews_ReviewsList__3sS2R\",\"ReviewsListItem\":\"Reviews_ReviewsListItem__3JdP7\",\"ReviewsAuthorTitle\":\"Reviews_ReviewsAuthorTitle__2dJSe\",\"ReviewsAuthor\":\"Reviews_ReviewsAuthor__3mXJC\",\"ReviewsContent\":\"Reviews_ReviewsContent__3KlRk\",\"ReviewsCreated\":\"Reviews_ReviewsCreated__1mDEr\"};","export default __webpack_public_path__ + \"static/media/no-avatar.6c6bc58e.jpg\";","import { useState, useEffect } from 'react';\r\nimport {useParams} from \"react-router-dom\";\r\nimport * as api from \"../../Service/Service-api\";\r\nimport s from './Cast.module.css';\r\nimport NoImage154 from '../../images/no-avatar.jpg';\r\nimport Loader from \"../Loader/Loader\";\r\n\r\nconst BASE_IMG_URL = 'https://image.tmdb.org/t/p/w154';\r\n\r\nexport default function Cast() {\r\n    const { movieId } = useParams();\r\n    const [cast, setCast] = useState(null);\r\n    const [status, setStatus] = useState('pending');\r\n\r\n    useEffect(() => {\r\n        async function fetchData() {\r\n            setStatus('pending');\r\n            let newRequest;\r\n            try {\r\n                newRequest = await api.getCast(movieId);\r\n                setCast(newRequest.data.cast);\r\n                setStatus(() => {\r\n                    return (\r\n                        newRequest.data.cast.length === 0 ?\r\n                            'rejected' :\r\n                            'resolved'\r\n                    )\r\n                });\r\n            }\r\n            catch (error) {\r\n                console.log('Error: request failed1');\r\n                return setStatus('failed');\r\n            };\r\n        };\r\n        fetchData();\r\n    }, [movieId]);\r\n\r\n\r\n    return (\r\n        <>\r\n            {(status === 'pending') && <Loader />}\r\n\r\n            {(status === 'rejected') && <h2 className=\"galleryTitle\">По запросу ничего не найдено</h2>}\r\n\r\n            {(status === 'failed') && <h2 className=\"galleryTitle\">Error: request failed. Нет соединения с интернетом или сервером</h2>}\r\n            \r\n            {(status === 'resolved') && (\r\n                <>\r\n                    {cast && (\r\n                        <ul className={s.castGallery}>\r\n                            {cast.map(item => {\r\n                                const {profile_path, id, name } = item;\r\n                                return (\r\n                                    <li key={id} className={s.castGalleryItem}>\r\n                                        {profile_path && <img src={`${BASE_IMG_URL}${profile_path}`} alt={name} className={s.CastGalleryItemImage}/>}\r\n                                        {!profile_path && <img src={NoImage154} alt=\"NoImage\" className={s.CastGalleryItemImage}/>}\r\n                                        <h5 className={s.CastTitle}>{name}</h5>\r\n                                    </li>\r\n                            )})}\r\n                        </ul>\r\n                    )}\r\n                </>\r\n            )}\r\n            \r\n        </>   \r\n    )\r\n};\r\n","import { useState, useEffect } from 'react';\r\nimport {useParams} from \"react-router-dom\";\r\nimport * as api from \"../../Service/Service-api\";\r\nimport s from './Reviews.module.css';\r\n// import NoImage154 from '../../images/NoImage154.PNG';\r\nimport Loader from \"../Loader/Loader\";\r\n\r\n// const BASE_IMG_URL = 'https://image.tmdb.org/t/p/w154';\r\n\r\nexport default function Reviews() {\r\n    const { movieId } = useParams();\r\n    const [reviews, setReviews] = useState(null);\r\n    const [status, setStatus] = useState('pending');\r\n\r\n    useEffect(() => {\r\n        async function fetchData() {\r\n            setStatus('pending');\r\n            let newRequest;\r\n            try {\r\n                newRequest = await api.getReviews(movieId);\r\n                setReviews(newRequest.data.results);\r\n                setStatus(() => {\r\n                    return (\r\n                        newRequest.data.results.length === 0 ?\r\n                            'rejected' :\r\n                            'resolved'\r\n                    )\r\n                });\r\n            }\r\n            catch (error) {\r\n                console.log('Error: request failed1');\r\n                return setStatus('failed');\r\n            };\r\n        };\r\n        fetchData();\r\n    }, [movieId]);\r\n\r\n    \r\n\r\n\r\n    return (\r\n        <>\r\n            {(status === 'pending') && <Loader />}\r\n\r\n            {(status === 'rejected') && <h2 className=\"galleryTitle\">По запросу ничего не найдено</h2>}\r\n\r\n            {(status === 'failed') && <h2 className=\"galleryTitle\">Error: request failed. Нет соединения с интернетом или сервером</h2>}\r\n            \r\n            {(status === 'resolved') && (\r\n                <>\r\n                    {reviews && (\r\n                        <ul className={s.ReviewsList}>\r\n                            {reviews.map(item => {\r\n                                const {author, id, content, created_at } = item;\r\n                                return (\r\n                                    <li key={id} className={s.ReviewsListItem}>\r\n                                        <span className={s.ReviewsAuthorTitle}>Author: </span>\r\n                                        <span className={s.ReviewsAuthor}>{author}</span>\r\n                                        <p className={s.ReviewsCreated}>Created: { created_at.slice(0, 10)}</p>\r\n                                        <p className={s.ReviewsContent}>{content}</p>\r\n                                    </li>\r\n                            )})}\r\n                        </ul>\r\n                    )}\r\n                </>\r\n            )}\r\n            \r\n        </>   \r\n    )\r\n};","import { NavLink, useParams, useRouteMatch, Route } from \"react-router-dom\";\r\nimport { useHistory, useLocation} from 'react-router-dom';\r\nimport { useState, useEffect } from 'react';\r\nimport s from './SingleMovie.module.css';\r\nimport * as api from \"../../Service/Service-api\";\r\nimport Cast from '../../components/Cast/Cast';\r\nimport Reviews from '../../components/Reviews/Reviews';\r\nimport Loader from '../Loader/Loader';\r\nimport { IoArrowBackSharp } from \"react-icons/io5\";\r\n\r\n\r\nconst BASE_IMG_URL = 'https://image.tmdb.org/t/p/w342';\r\n\r\n\r\nexport default function SingleMovie() {\r\n    const history = useHistory();\r\n    const location = useLocation();\r\n    const { url } = useRouteMatch();\r\n    const { movieId } = useParams();\r\n    const [film, setFilm] = useState(null);\r\n    const [status, setStatus] = useState('pending');\r\n\r\n    useEffect(() => {\r\n\r\n        async function fetchData() {\r\n        setStatus('pending');\r\n        let newRequest;\r\n            try {\r\n                newRequest = await api.getSingleFilm(movieId);\r\n                setFilm(newRequest);\r\n                setStatus(() => {\r\n                    return (\r\n                        newRequest.data.length === 0 ?\r\n                            'rejected' :\r\n                            'resolved'\r\n                    )\r\n                });\r\n            }\r\n            catch (error) {\r\n                console.log('Error: request failed');\r\n                return setStatus('failed');\r\n        };\r\n        };\r\n\r\n        fetchData();\r\n    }, [movieId]);\r\n\r\n    const handleGoBack = () => {\r\n\r\n\r\n\r\n      history.push(location?.state?.from ?? \"/\");\r\n\r\n    };\r\n    \r\n    return (\r\n        <>\r\n            {(status === 'pending') && <Loader />}\r\n\r\n            {(status === 'rejected') && <h2 className=\"galleryTitle\">По запросу ничего не найдено</h2>}\r\n\r\n            {(status === 'failed') && <h2 className=\"galleryTitle\">Error: request failed. Нет соединения с интернетом или сервером</h2>}\r\n            \r\n            {(status === 'resolved') && (\r\n                <>\r\n                    <button type=\"button\" onClick={handleGoBack} className={s.GoBackBtn}>\r\n                        <IoArrowBackSharp />\r\n                        <span>GO BACK</span>    \r\n                    </button>\r\n                    {(film) && (\r\n                        <div className={s.SingleFilm}>\r\n                            <div className={s.imageFrame}>\r\n                                <img src={`${BASE_IMG_URL}${film.data.poster_path}`} alt={film.data.title} className={s.imgFilm} />\r\n                            </div>\r\n                            <div className={s.filmData}>\r\n                                <h1 className={s.filmTitle}>{film.data.title}</h1>\r\n                                <h4 className={s.filmText}>Released:</h4>\r\n                                <p className={s.filmTextValue}>{film.data.release_date}</p>\r\n                                <h4 className={s.filmText}>Overview:</h4>\r\n                                <p className={s.filmTextValue}>{film.data.overview}</p>\r\n                                <h4 className={s.filmText}>Genres:</h4>\r\n                                <p className={s.filmTextValue}>{film.data.genres.map(items => items.name).join(', ').toLowerCase()}</p>\r\n                                <h4 className={s.filmText}>Vote average:</h4>\r\n                                <p className={s.filmTextValue}>{film.data.vote_average}</p>\r\n                                <div className={s.Links}>\r\n                                <h4 className={s.filmText}>Additional information:</h4>\r\n                                    <NavLink to={{ pathname: `${url}/cast/${movieId}`, state: {from: location?.state?.from ?? \"/\"} }} className={s.FilmLink}>CAST</NavLink>\r\n                                    <NavLink to={{ pathname: `${url}/reviews/${movieId}`, state: {from: location?.state?.from ?? \"/\"} }} className={s.FilmLink}>REVIEWS</NavLink>\r\n                                </div>\r\n                                \r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                    <Route path={`${url}/cast/:movieId`}>\r\n                        <Cast movieId={movieId}/>\r\n                    </Route>\r\n                    <Route path={`${url}/reviews/:movieId`}>\r\n                        <Reviews movieId={movieId} />\r\n                    </Route>\r\n                </>\r\n            )}\r\n        </> \r\n    )\r\n};","\r\nimport SingleMovie from '../components/SingleMovie/SingleMovie'\r\n\r\nexport default function FilmView() {\r\n    return (\r\n        <>\r\n            <SingleMovie/>  \r\n        </> \r\n    )\r\n}","import axios from \"axios\";\n\nconst BASE_URL = \"https://api.themoviedb.org/3/\";\nconst API_KEY = \"367b0facb69c6afab44aa6f928a1cec5\";\n\nexport const getTrendingMovies = (page) =>\n  axios.get(`${BASE_URL}trending/movie/day?api_key=${API_KEY}&page=${page}`);\n\nexport const getMovie = (searchQuery, page) =>\n  axios.get(`${BASE_URL}search/movie?api_key=${API_KEY}&page=${page}&query=${searchQuery}&include_adult=false`);\n\nexport const getSingleFilm = (filmId) =>\n  axios.get(`${BASE_URL}movie/${filmId}?api_key=${API_KEY}`);\n\nexport const getCast = (filmId) =>\n  axios.get(`${BASE_URL}movie/${filmId}/credits?api_key=${API_KEY}`);\n\nexport const getReviews = (filmId) =>\n  axios.get(`${BASE_URL}movie/${filmId}/reviews?api_key=${API_KEY}&page=1`);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SingleFilm\":\"SingleMovie_SingleFilm__3Vx7v\",\"imageFrame\":\"SingleMovie_imageFrame__2z1dL\",\"imgFilm\":\"SingleMovie_imgFilm__1SQtM\",\"filmData\":\"SingleMovie_filmData__1y31M\",\"filmTitle\":\"SingleMovie_filmTitle__35gHA\",\"filmText\":\"SingleMovie_filmText__1EN0b\",\"filmTextValue\":\"SingleMovie_filmTextValue__3bbxR\",\"Links\":\"SingleMovie_Links__22yIe\",\"FilmLink\":\"SingleMovie_FilmLink__18Oz6\",\"GoBackBtn\":\"SingleMovie_GoBackBtn__37mGQ\"};"],"sourceRoot":""}