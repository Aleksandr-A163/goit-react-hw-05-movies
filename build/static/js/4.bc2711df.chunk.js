(this["webpackJsonpgoit-react-hw-05-movies"]=this["webpackJsonpgoit-react-hw-05-movies"]||[]).push([[4],{100:function(e,t,a){e.exports={castGallery:"Cast_castGallery__3wjay",castGalleryItem:"Cast_castGalleryItem__279Aw",CastGalleryItemImage:"Cast_CastGalleryItemImage__3hR84",CastTitle:"Cast_CastTitle__2YNvC"}},101:function(e,t,a){e.exports={ReviewsList:"Reviews_ReviewsList__3sS2R",ReviewsListItem:"Reviews_ReviewsListItem__3JdP7",ReviewsAuthorTitle:"Reviews_ReviewsAuthorTitle__2dJSe",ReviewsAuthor:"Reviews_ReviewsAuthor__3mXJC",ReviewsContent:"Reviews_ReviewsContent__3KlRk",ReviewsCreated:"Reviews_ReviewsCreated__1mDEr"}},102:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return N}));var c=a(60),n=a.n(c),i=a(61),s=a(17),r=a(4),l=a(11),o=a(1),d=a(99),u=a.n(d),j=a(59),m=a(100),v=a.n(m),b=a.p+"static/media/no-avatar.6c6bc58e.jpg",h=a(16),f=a(2);function p(){var e=Object(r.i)().movieId,t=Object(o.useState)(null),a=Object(s.a)(t,2),c=a[0],l=a[1],d=Object(o.useState)("pending"),u=Object(s.a)(d,2),m=u[0],p=u[1];return Object(o.useEffect)((function(){function t(){return(t=Object(i.a)(n.a.mark((function t(){var a;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return p("pending"),t.prev=1,t.next=4,j.a(e);case 4:a=t.sent,l(a.data.cast),p((function(){return 0===a.data.cast.length?"rejected":"resolved"})),t.next=13;break;case 9:return t.prev=9,t.t0=t.catch(1),console.log("Error: request failed1"),t.abrupt("return",p("failed"));case 13:case 14:case"end":return t.stop()}}),t,null,[[1,9]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]),Object(f.jsxs)(f.Fragment,{children:["pending"===m&&Object(f.jsx)(h.a,{}),"rejected"===m&&Object(f.jsx)("h2",{className:"galleryTitle",children:"\u041f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"}),"failed"===m&&Object(f.jsx)("h2",{className:"galleryTitle",children:"Error: request failed. \u041d\u0435\u0442 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f \u0441 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u043e\u043c \u0438\u043b\u0438 \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c"}),"resolved"===m&&Object(f.jsx)(f.Fragment,{children:c&&Object(f.jsx)("ul",{className:v.a.castGallery,children:c.map((function(e){var t=e.profile_path,a=e.id,c=e.name;return Object(f.jsxs)("li",{className:v.a.castGalleryItem,children:[t&&Object(f.jsx)("img",{src:"".concat("https://image.tmdb.org/t/p/w154").concat(t),alt:c,className:v.a.CastGalleryItemImage}),!t&&Object(f.jsx)("img",{src:b,alt:"NoImage",className:v.a.CastGalleryItemImage}),Object(f.jsx)("h5",{className:v.a.CastTitle,children:c})]},a)}))})})]})}var x=a(101),O=a.n(x);function g(){var e=Object(r.i)().movieId,t=Object(o.useState)(null),a=Object(s.a)(t,2),c=a[0],l=a[1],d=Object(o.useState)("pending"),u=Object(s.a)(d,2),m=u[0],v=u[1];return Object(o.useEffect)((function(){function t(){return(t=Object(i.a)(n.a.mark((function t(){var a;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return v("pending"),t.prev=1,t.next=4,j.c(e);case 4:a=t.sent,l(a.data.results),v((function(){return 0===a.data.results.length?"rejected":"resolved"})),t.next=13;break;case 9:return t.prev=9,t.t0=t.catch(1),console.log("Error: request failed1"),t.abrupt("return",v("failed"));case 13:case 14:case"end":return t.stop()}}),t,null,[[1,9]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]),Object(f.jsxs)(f.Fragment,{children:["pending"===m&&Object(f.jsx)(h.a,{}),"rejected"===m&&Object(f.jsx)("h2",{className:"galleryTitle",children:"\u041f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"}),"failed"===m&&Object(f.jsx)("h2",{className:"galleryTitle",children:"Error: request failed. \u041d\u0435\u0442 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f \u0441 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u043e\u043c \u0438\u043b\u0438 \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c"}),"resolved"===m&&Object(f.jsx)(f.Fragment,{children:c&&Object(f.jsx)("ul",{className:O.a.ReviewsList,children:c.map((function(e){var t=e.author,a=e.id,c=e.content,n=e.created_at;return Object(f.jsxs)("li",{className:O.a.ReviewsListItem,children:[Object(f.jsx)("span",{className:O.a.ReviewsAuthorTitle,children:"Author: "}),Object(f.jsx)("span",{className:O.a.ReviewsAuthor,children:t}),Object(f.jsxs)("p",{className:O.a.ReviewsCreated,children:["Created: ",n.slice(0,10)]}),Object(f.jsx)("p",{className:O.a.ReviewsContent,children:c})]},a)}))})})]})}var _=a(21);function w(){var e,t,a,c,d=Object(r.g)(),m=Object(r.h)(),v=Object(r.j)().url,b=Object(r.i)().movieId,x=Object(o.useState)(null),O=Object(s.a)(x,2),w=O[0],N=O[1],y=Object(o.useState)("pending"),R=Object(s.a)(y,2),T=R[0],k=R[1];Object(o.useEffect)((function(){function e(){return(e=Object(i.a)(n.a.mark((function e(){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k("pending"),e.prev=1,e.next=4,j.d(b);case 4:t=e.sent,N(t),k((function(){return 0===t.data.length?"rejected":"resolved"})),e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(1),console.log("Error: request failed"),e.abrupt("return",k("failed"));case 13:case 14:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[b]);return Object(f.jsxs)(f.Fragment,{children:["pending"===T&&Object(f.jsx)(h.a,{}),"rejected"===T&&Object(f.jsx)("h2",{className:"galleryTitle",children:"\u041f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"}),"failed"===T&&Object(f.jsx)("h2",{className:"galleryTitle",children:"Error: request failed. \u041d\u0435\u0442 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f \u0441 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u043e\u043c \u0438\u043b\u0438 \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c"}),"resolved"===T&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("button",{type:"button",onClick:function(){var e,t;d.push(null!==(e=null===m||void 0===m||null===(t=m.state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/")},className:u.a.GoBackBtn,children:[Object(f.jsx)(_.a,{}),Object(f.jsx)("span",{children:"GO BACK"})]}),w&&Object(f.jsxs)("div",{className:u.a.SingleFilm,children:[Object(f.jsx)("div",{className:u.a.imageFrame,children:Object(f.jsx)("img",{src:"".concat("https://image.tmdb.org/t/p/w342").concat(w.data.poster_path),alt:w.data.title,className:u.a.imgFilm})}),Object(f.jsxs)("div",{className:u.a.filmData,children:[Object(f.jsx)("h1",{className:u.a.filmTitle,children:w.data.title}),Object(f.jsx)("h4",{className:u.a.filmText,children:"Released:"}),Object(f.jsx)("p",{className:u.a.filmTextValue,children:w.data.release_date}),Object(f.jsx)("h4",{className:u.a.filmText,children:"Overview:"}),Object(f.jsx)("p",{className:u.a.filmTextValue,children:w.data.overview}),Object(f.jsx)("h4",{className:u.a.filmText,children:"Genres:"}),Object(f.jsx)("p",{className:u.a.filmTextValue,children:w.data.genres.map((function(e){return e.name})).join(", ").toLowerCase()}),Object(f.jsx)("h4",{className:u.a.filmText,children:"Vote average:"}),Object(f.jsx)("p",{className:u.a.filmTextValue,children:w.data.vote_average}),Object(f.jsxs)("div",{className:u.a.Links,children:[Object(f.jsx)("h4",{className:u.a.filmText,children:"Additional information:"}),Object(f.jsx)(l.c,{to:{pathname:"".concat(v,"/cast/").concat(b),state:{from:null!==(e=null===m||void 0===m||null===(t=m.state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/"}},className:u.a.FilmLink,children:"CAST"}),Object(f.jsx)(l.c,{to:{pathname:"".concat(v,"/reviews/").concat(b),state:{from:null!==(a=null===m||void 0===m||null===(c=m.state)||void 0===c?void 0:c.from)&&void 0!==a?a:"/"}},className:u.a.FilmLink,children:"REVIEWS"})]})]})]}),Object(f.jsx)(r.b,{path:"".concat(v,"/cast/:movieId"),children:Object(f.jsx)(p,{movieId:b})}),Object(f.jsx)(r.b,{path:"".concat(v,"/reviews/:movieId"),children:Object(f.jsx)(g,{movieId:b})})]})]})}function N(){return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(w,{})})}},59:function(e,t,a){"use strict";a.d(t,"e",(function(){return r})),a.d(t,"b",(function(){return l})),a.d(t,"d",(function(){return o})),a.d(t,"a",(function(){return d})),a.d(t,"c",(function(){return u}));var c=a(64),n=a.n(c),i="https://api.themoviedb.org/3/",s="367b0facb69c6afab44aa6f928a1cec5",r=function(e){return n.a.get("".concat(i,"trending/movie/day?api_key=").concat(s,"&page=").concat(e))},l=function(e,t){return n.a.get("".concat(i,"search/movie?api_key=").concat(s,"&page=").concat(t,"&query=").concat(e,"&include_adult=false"))},o=function(e){return n.a.get("".concat(i,"movie/").concat(e,"?api_key=").concat(s))},d=function(e){return n.a.get("".concat(i,"movie/").concat(e,"/credits?api_key=").concat(s))},u=function(e){return n.a.get("".concat(i,"movie/").concat(e,"/reviews?api_key=").concat(s,"&page=1"))}},99:function(e,t,a){e.exports={SingleFilm:"SingleMovie_SingleFilm__3Vx7v",imageFrame:"SingleMovie_imageFrame__2z1dL",imgFilm:"SingleMovie_imgFilm__1SQtM",filmData:"SingleMovie_filmData__1y31M",filmTitle:"SingleMovie_filmTitle__35gHA",filmText:"SingleMovie_filmText__1EN0b",filmTextValue:"SingleMovie_filmTextValue__3bbxR",Links:"SingleMovie_Links__22yIe",FilmLink:"SingleMovie_FilmLink__18Oz6",GoBackBtn:"SingleMovie_GoBackBtn__37mGQ"}}}]);
//# sourceMappingURL=4.bc2711df.chunk.js.map